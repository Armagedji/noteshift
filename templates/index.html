<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <title>NoteShift - Выбор конвертации</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 50px auto; }
        label { display: block; margin-top: 15px; font-weight: bold; }
        input[type="file"] { margin-top: 5px; }
        select, input[type="number"], button { margin-top: 10px; padding: 8px; font-size: 1em; width: 100%; }
        button { cursor: pointer; background-color: #007bff; color: white; border: none; }
        button:hover { background-color: #0056b3; }
        .flash { color: red; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>NoteShift - Транспонирование музыки</h1>

    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="flash">
          {% for message in messages %}
            <p>{{ message }}</p>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form method="post" action="{{ url_for('process') }}" enctype="multipart/form-data">
        <label for="file">Выберите файл (PNG, MIDI, MusicXML):</label>
        <input type="file" name="file" id="file" required />

        <label for="filetype">Тип входного файла:</label>
        <select name="filetype" id="filetype" required>
            <option value="png">Изображение (PNG, JPG...)</option>
            <option value="midi">MIDI</option>
            <option value="musicxml">MusicXML</option>
        </select>

        <label for="transpose">Транспонировать на полутонов (можно отрицательное):</label>
        <input type="number" id="transpose" name="transpose" value="0" min="-24" max="24" />

        <button type="submit">Конвертировать и транспонировать</button>
    </form>
</body>
</html>
